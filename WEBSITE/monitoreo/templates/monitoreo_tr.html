{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario por Ubicaci√≥n</title>
    <link rel="stylesheet" href="{% static 'css/monitoreo_tr.css' %}">
    <script src="{% static 'js/monitoreo_tr.js' %}" defer></script>
</head>
<body>
    <div class="container">
        <h1>Inventario por Ubicaci√≥n</h1>

        <!-- üîπ Tarjeta de Filtros (Desplegable) -->
        <div class="card filtros-card">
            <!-- Bot√≥n para mostrar/ocultar filtros -->
            <button class="toggle-btn" onclick="toggleFiltro('filtros-seccion')">üìÇ Filtros de B√∫squeda</button>
            
            <!-- Contenido de filtros (inicialmente oculto) -->
            <div id="filtros-seccion" class="contenido" style="display: none;">
                <!-- Filtro de ubicaci√≥n -->
                <label for="ubicacion">Ubicaci√≥n:</label>
                <select id="ubicacion" multiple>
                    {% for ubicacion in ubicaciones %}
                        <option value="{{ ubicacion.id_ubicacion }}">{{ ubicacion.nombre_ubicacion }}</option>
                    {% endfor %}
                </select>
        
                <!-- Filtro de tipo de dispositivo -->
                <fieldset>
                    <legend>Tipo de Dispositivo:</legend>
                    {% for tipo in tipos %}
                        <label><input type="checkbox" name="tipo" value="{{ tipo }}"> {{ tipo }}</label>
                    {% endfor %}
                </fieldset>
        
                <!-- Filtro de marca -->
                <fieldset>
                    <legend>Marca:</legend>
                    {% for marca in marcas %}
                        <label><input type="checkbox" name="marca" value="{{ marca }}"> {{ marca }}</label>
                    {% endfor %}
                </fieldset>
        
                <!-- Filtro de sistema operativo -->
                <fieldset>
                    <legend>Sistema Operativo:</legend>
                    {% for sistema in sistemas %}
                        <label><input type="checkbox" name="sistema" value="{{ sistema }}"> {{ sistema }}</label>
                    {% endfor %}
                </fieldset>
        
                <!-- Bot√≥n para aplicar los filtros -->
                <button type="button" onclick="cargarInventario()" id="buscar-filtros-btn">üîç Buscar por filtros</button>
            </div>
        </div>
        

        <!-- üîπ Tarjeta de B√∫squeda por IP (Desplegable) --><div class="card ip-card">
    <button class="toggle-btn" onclick="toggleFiltro('ip-seccion')">üåê Buscar por IP</button>
    <div id="ip-seccion" class="contenido" style="display: none;">
        <div class="ip-input-container">
            <div class="ip-input">
                <input type="text" id="ip1" maxlength="3" oninput="moverCursor(this, 'ip2')" onkeypress="return soloNumeros(event)">
                <span>.</span>
                <input type="text" id="ip2" maxlength="3" oninput="moverCursor(this, 'ip3')" onkeypress="return soloNumeros(event)">
                <span>.</span>
                <input type="text" id="ip3" maxlength="3" oninput="moverCursor(this, 'ip4')" onkeypress="return soloNumeros(event)">
                <span>.</span>
                <input type="text" id="ip4" maxlength="3" onkeypress="return soloNumeros(event)">
            </div>
            <button id="buscar-ip-btn" onclick="buscarPorIP()">üîç</button>
        </div>
    </div>
</div>


        <!-- üîπ Botones Generales -->
        <div class="botones">
            <button id="verificar-todos" onclick="verificarTodos()">‚úÖ Verificar Todos</button>
            <button id="eliminar-btn" onclick="eliminarFiltros()">‚ùå Borrar Filtros</button>
        </div>

        <!-- üîπ Tabla de Inventario -->
        <div class="tabla-contenedor">
            <table>
                <thead>
                    <tr>
                        <th>Ubicaci√≥n</th>
                        <th>IP</th>
                        <th>Tipo</th>
                        <th>Estado</th>
                        <th>Acci√≥n</th>
                        <th>Detalles</th>
                    </tr>
                </thead>
                <tbody id="inventario-body"></tbody>
            </table>
            
        </div>
    </div>
</body>
</html>
